- clean:
  - '~'
  - '~/.oh-my-zsh/custom/'
  - '~/.oh-my-zsh/custom/plugins/'
- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [sh pre-install.sh, Running pre-installation script]
- link:
    ~/.zshrc:
      force: true
      path: zsh/zshrc
    ~/.zshrc_local_after: zsh/zshrc_local_after
    ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions: oh-my-zsh/custom/plugins/zsh-autosuggestions
    ~/.oh-my-zsh/custom/plugins/zsh-completions: oh-my-zsh/custom/plugins/zsh-completions
    ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting: oh-my-zsh/custom/plugins/zsh-syntax-highlighting
    ~/.oh-my-zsh/custom/themes/powerlevel9k: oh-my-zsh/custom/themes/powerlevel9k
    ~/.gitconfig: git/gitconfig
    ~/.gitconfig_user: git/gitconfig_user
    ~/.gitignore_global: git/gitignore_global
    ~/.gitmessage: git/gitmessage
    #~/.vim: vim
    ~/.vimrc: vim/vimrc
- shell:
  - [sh fonts/install.sh, Installing Powerline fonts]
  - [if gem list -i "charlock_holmes" -nq "true" 2>/dev/null; then gem install --user-install charlock_holmes -- --with-icu-dir=/usr/local/opt/icu4c --with-cxxflags=\'-Wno-reserved-user-defined-literal -std=c++11\'; fi, Installing Charlock for Gollum]
  - [if gem list -i "pkg-config" -nq "true" 2>/dev/null; then gem install --user-install pkg-config; fi, Installing pkg-config for Gollum]
  - [if gem list -i "nokogiri" -nq "true" 2>/dev/null; then gem install --user-install nokogiri -- --use-system-libraries; fi, Installing nokogiri for Gollum]
  - [if gem list -i "gollum" -nq "true" 2>/dev/null; then gem install --user-install gollum; fi, Installing Gollum]
  - [echo "Set font to 'Source Code Pro for Powerline'"]
